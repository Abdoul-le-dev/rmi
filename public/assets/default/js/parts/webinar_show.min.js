!function(t){"use strict";var a,e=t("#offerCountDown");if(e.length){var o=e.attr("data-day"),n=e.attr("data-hour"),i=e.attr("data-minute"),s=e.attr("data-second");e.countdown100({endtimeYear:0,endtimeMonth:0,endtimeDate:o,endtimeHours:n,endtimeMinutes:i,endtimeSeconds:s,timeZone:""})}function l(a,e,o,n,i){var s={item:e,item_id:o,status:n};t.post("/course/"+a+"/learningStatus",s,(function(a){t.toast({heading:"",text:learningToggleLangSuccess,bgColor:"#43d477",textColor:"white",hideAfter:1e4,position:"bottom-right",icon:"success"}),setTimeout((function(){window.location.reload()}),500)})).fail((function(a){i.prop("checked",!n),t.toast({heading:"",text:learningToggleLangError,bgColor:"#f63c3c",textColor:"white",hideAfter:1e4,position:"bottom-right",icon:"error"})}))}function r(a,e){t.toast({heading:a,text:e,bgColor:"#f63c3c",textColor:"white",hideAfter:1e4,position:"bottom-right",icon:"error"})}function c(t,a){var e='<div id="waitlistModal" class="waitlist-modal">\n        <h3 class="section-title after-line font-20 text-dark-blue">'+joinCourseWaitlistLang+'</h3>\n        <div class="d-flex-center flex-column text-center mt-25">\n            <div class="waitlist-modal-icon">\n                <img src="/assets/default/img/course/waitlist.png" alt="waitlist" class="img-cover">\n            </div>\n            <p class="font-14 font-weight-500 mt-15 text-gray">'+joinCourseWaitlistModalHintLang+"</p>\n        </div>";e+='<div class="waitlist-modal-form"><input type="hidden" name="slug" value="'+t+'">',a||(e+='<div class="mt-15">\n            <div class="form-group mb-10">\n                <label class="input-label">'+nameLang+':</label>\n                <input name="name" type="text" class="js-ajax-name form-control">\n                <div class="invalid-feedback"></div>\n            </div>\n            <div class="form-group mb-10">\n                <label class="input-label">'+emailLang+':</label>\n                <input name="email" type="text" class="js-ajax-email form-control">\n                <div class="invalid-feedback"></div>\n            </div>\n            <div class="form-group mb-10">\n                <label class="input-label">'+phoneLang+':</label>\n                <input name="phone" type="text" class="js-ajax-phone form-control">\n                <div class="invalid-feedback"></div>\n            </div>\n           <div class="form-group mb-10">\n                <label class="input-label font-weight-500">'+captchaLang+'</label>\n               <div class="row align-items-center">\n                   <div class="col">\n                       <input type="text" name="captcha" class="js-ajax-captcha form-control">\n                       <div class="invalid-feedback"></div>\n                   </div>\n                   <div class="col d-flex align-items-center">\n                       <img id="captchaImageComment" class="captcha-image" src="">\n                       <button type="button" id="refreshCaptcha" class="btn-transparent ml-15">\n                           <i data-feather="refresh-ccw" width="24" height="24" class=""></i>\n                       </button>\n                   </div>\n               </div>\n          </div>\n      </div>'),e+='</div><div class="d-flex align-items-center justify-content-end mt-20">\n            <button type="button" class="js-save-waitlist btn btn-primary btn-sm">'+joinLang+"</button>\n        </div>\n    </div>",Swal.fire({html:e,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"28rem",onOpen:function(){a||(refreshCaptcha(),feather.replace())}})}t(".barrating-stars select").each((function(a,e){var o=t(e);o.barrating({theme:"css-stars",readonly:!1,initialRating:o.data("rate")})})),t("body").on("click","#webinarDemoVideoBtn",(function(e){e.preventDefault(),void 0!==a&&a.dispose();var o=t(this).attr("data-video-path"),n=t(this).attr("data-video-source"),i=t(window).width()>991?480:264,s="demoVideoPlayer",l=makeVideoPlayerHtml(o,n,i,s),r=l.html,c=l.options,d='<div id="webinarDemoVideoModal" class="demo-video-modal">\n<h3 class="section-title after-line font-20 text-dark-blue">'+webinarDemoLang+'</h3>\n<div class="demo-video-card mt-25">\n';d+=r,d+="</div></div>",Swal.fire({html:d,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"48rem",onOpen:function(){a=videojs(s,c)}})})),t("body").on("click","#webinarReportBtn",(function(a){a.preventDefault();var e=t("#webinarReportModal").html();Swal.fire({html:e,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"48rem"})})),t("body").on("click",".js-course-report-submit",(function(a){a.preventDefault();var e=t(this),o=e.closest("form"),n=o.attr("action"),i=o.serializeObject();e.addClass("loadingbar primary").prop("disabled",!0),o.find(".invalid-feedback").text(""),o.find(".is-invalid").removeClass("is-invalid"),t.post(n,i,(function(t){t&&200===t.code?(Swal.fire({icon:"success",html:'<h3 class="font-20 text-center text-dark-blue">'+reportSuccessLang+"</h3>",showConfirmButton:!1}),setTimeout((function(){window.location.reload()}),2e3)):t&&401===t.code&&Swal.fire({icon:"error",html:'<h3 class="font-20 text-center text-dark-blue">'+reportFailLang+"</h3>",showConfirmButton:!1})})).fail((function(t){e.removeClass("loadingbar primary").prop("disabled",!1);var a=t.responseJSON;a&&a.errors&&Object.keys(a.errors).forEach((function(t){var e=a.errors[t],n=o.find('[name="'+t+'"]');n.addClass("is-invalid"),n.parent().find(".invalid-feedback").text(e[0])}))}))})),t("body").on("change",'input[name="ticket_id"]',(function(a){a.preventDefault();var e=t(this).attr("data-discount-price"),o=t("#realPrice"),n=t("#priceWithDiscount");if(o.removeClass("text-primary").addClass("d-block font-20 text-gray text-decoration-line-through mr-15"),n.length)n.addClass("d-block"),n.text(e);else{o.removeClass("d-block");var i='<span\nclass="font-30 text-primary">\n'+e+"</span>";o.parent().append(i)}})),t("body").on("click","#favoriteToggle",(function(a){a.preventDefault(),a.stopPropagation();var e=t(this).attr("href"),o=t(this).find("svg");o.hasClass("favorite-active")?o.removeClass("favorite-active"):o.addClass("favorite-active"),t.get(e,(function(t){}))})),t("body").on("click",".js-share-course",(function(a){a.preventDefault(),Swal.fire({html:t("#courseShareModal").html(),showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},onOpen:function(){t('[data-toggle="tooltip"]').tooltip()},width:"32rem"})})),t("body").on("click",".js-course-share-link-copy",(function(a){var e;a.preventDefault(),t(this).attr("data-original-title",copiedLang).tooltip("show"),t(this).attr("data-original-title",copyLang),e=t("<input>"),t("body").append(e),e.css("position","absolute"),e.val(t(".js-course-share-link").html()).select(),document.execCommand("copy"),e.remove()})),t("body").on("change",".js-file-learning-toggle",(function(a){var e=t(this);l(e.val(),"file_id",e.attr("data-file-id"),this.checked,e)})),t("body").on("change",".js-text-lesson-learning-toggle",(function(a){var e=t(this);l(e.val(),"text_lesson_id",e.attr("data-lesson-id"),this.checked,e)})),t("body").on("change",".js-text-session-toggle",(function(a){var e=t(this);l(e.val(),"session_id",e.attr("data-session-id"),this.checked,e)})),t("body").on("click",".not-login-toast",(function(t){t.preventDefault(),notLoginToastTitleLang&&notLoginToastMsgLang&&r(notLoginToastTitleLang,notLoginToastMsgLang)})),t("body").on("click",".not-access-toast",(function(t){t.preventDefault(),notAccessToastTitleLang&&notAccessToastMsgLang&&r(notAccessToastTitleLang,notAccessToastMsgLang)})),t("body").on("click",".js-sequence-content-error-modal",(function(a){a.preventDefault();var e=t(this).attr("data-passed-error"),o=t(this).attr("data-access-days-error"),n='<ul class="list-group-custom">\n';e&&(n+='<li class="font-14 mb-10">'+e+"</li>\n"),o&&(n+='<li class="font-14">'+o+"</li>\n"),n+="</ul>",Swal.fire({icon:"error",title:sequenceContentErrorModalTitle,html:n,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"30rem"})})),t("body").on("click",".can-not-try-again-quiz-toast",(function(t){t.preventDefault(),canNotTryAgainQuizToastTitleLang&&canNotTryAgainQuizToastMsgLang&&r(canNotTryAgainQuizToastTitleLang,canNotTryAgainQuizToastMsgLang)})),t("body").on("click",".can-not-download-certificate-toast",(function(t){t.preventDefault(),canNotDownloadCertificateToastTitleLang&&canNotDownloadCertificateToastMsgLang&&r(canNotDownloadCertificateToastTitleLang,canNotDownloadCertificateToastMsgLang)})),t("body").on("click",".session-finished-toast",(function(t){t.preventDefault(),sessionFinishedToastTitleLang&&sessionFinishedToastMsgLang&&r(sessionFinishedToastTitleLang,sessionFinishedToastMsgLang)})),t("body").on("click",".js-play-video",(function(a){a.preventDefault();var e=t("#playVideo"),o=e.find(".file-video-loading"),n=e.find(".js-modal-video-content");o.removeClass("d-none"),n.addClass("d-none");var i=t(this).attr("data-id"),s=t(this).attr("data-title");e.find(".section-title:first").text(s),e.modal("show"),document.getElementsByTagName("html")[0].classList.add("html-modal-open"),e.animate({scrollTop:0},100),console.log(n),handleVideoByFileId(i,n,(function(){o.addClass("d-none"),n.removeClass("d-none"),e.find(".modal-video-item").removeClass("active"),e.find('.modal-video-item[data-id="'+i+'"]').addClass("active"),e.find(".collapse").removeClass("show"),e.find("#collapseVideo"+i).addClass("show")})),t("#playVideo").on("hidden.bs.modal",(function(){pauseVideoPlayer(),document.getElementsByTagName("html")[0].classList.remove("html-modal-open")}))})),t("body").on("click",".js-buy-with-point",(function(a){a.preventDefault(),Swal.fire({html:t("#buyWithPointModal").html(),showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"28rem"})})),t("body").on("click",".js-buy-course-with-point",(function(a){t(this).addClass("loadingbar primary").prop("disabled",!0)})),t("body").on("click",".js-course-add-to-cart-btn",(function(a){var e=t(this);e.addClass("loadingbar primary").prop("disabled",!0);var o=e.closest("form");o.attr("action","/cart/store"),o.trigger("submit")})),t("body").on("click",".js-course-direct-payment",(function(a){var e=t(this);e.addClass("loadingbar danger").prop("disabled",!0);var o=e.closest("form");o.attr("action","/course/direct-payment"),o.trigger("submit")})),t("body").on("click",".js-bundle-direct-payment",(function(a){var e=t(this);e.addClass("loadingbar danger").prop("disabled",!0);var o=e.closest("form");o.attr("action","/bundles/direct-payment"),o.trigger("submit")})),t("body").on("click",".js-course-has-bought-status",(function(t){t.preventDefault(),courseHasBoughtStatusToastTitleLang&&courseHasBoughtStatusToastMsgLang&&r(courseHasBoughtStatusToastTitleLang,courseHasBoughtStatusToastMsgLang)})),t("body").on("click",".js-course-not-capacity-status",(function(t){t.preventDefault(),courseNotCapacityStatusToastTitleLang&&courseNotCapacityStatusToastMsgLang&&r(courseNotCapacityStatusToastTitleLang,courseNotCapacityStatusToastMsgLang)})),t("body").on("click",".js-course-has-started-status",(function(t){t.preventDefault(),courseHasStartedStatusToastTitleLang&&courseHasStartedStatusToastMsgLang&&r(courseHasStartedStatusToastTitleLang,courseHasStartedStatusToastMsgLang)})),t(document).ready((function(){var a=t(".js-chapter-collapse-toggle");if(a&&a.length){var e=a[0];e&&t(e).trigger("click")}})),t("body").on("click",".js-join-waitlist-user",(function(){c(t(this).attr("data-slug"),!0)})),t("body").on("click",".js-join-waitlist-guest",(function(){c(t(this).attr("data-slug"),!1)})),t("body").on("click",".js-save-waitlist",(function(a){a.preventDefault();var e=t(this),o=e.closest("#waitlistModal").find(".waitlist-modal-form"),n=serializeObjectByTag(o);e.addClass("loadingbar primary").prop("disabled",!0),o.find("input").removeClass("is-invalid"),o.find("textarea").removeClass("is-invalid"),t.post("/waitlists/join",n,(function(t){t&&200===t.code&&(Swal.fire({icon:"success",html:'<h3 class="font-16 text-center text-dark-blue py-25">'+t.msg+"</h3>",showConfirmButton:!1,width:"25rem"}),setTimeout((function(){window.location.reload()}),1e3))})).fail((function(t){e.removeClass("loadingbar primary").prop("disabled",!1);var a=t.responseJSON;a&&a.errors&&Object.keys(a.errors).forEach((function(t){var e=a.errors[t],n=o.find(".js-ajax-"+t);n.addClass("is-invalid"),n.parent().find(".invalid-feedback").text(e[0])}))}))}))}(jQuery);